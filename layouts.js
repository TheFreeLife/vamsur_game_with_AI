// ============================================
// 건물 레이아웃 시스템
// ============================================
// 
// 타일 종류:
//   . (점) = 빈 공간 (통행 가능)
//   # (샵) = 벽 (파괴 불가)
//   X (엑스) = 상자 (파괴 가능)
//   
// 사용법:
//   - 각 문자열 한 줄이 건물의 한 행입니다
//   - 공백 없이 문자를 연결하여 작성하세요
//   - 시각적으로 건물 모양을 확인하기 쉽습니다
// ============================================

const buildingLayoutsText = [
    // Layout 1: 기본 사각형 (입구 있음)
    [
        "############",
        "#..........#",
        "#..........#",
        "#....####..#",
        "#....#..#..#",
        "#....#XX#..#",
        "#..........#",
        "#..........#",
        "###XX#####.#",
        "............",
    ],

    // Layout 2: U자형 (코너에 상자)
    [
        "############",
        "#..........#",
        "#.X......X.#",
        "#..######..#",
        "#..#....#..#",
        "#..######..#",
        "#.X......X.#",
        "#..........#",
        "#####.X####.",
    ],

    // Layout 3: 십자가형
    [
        "....#..#....",
        "....#..#....",
        "####.....###",
        "#..........X",
        "####....####",
        "....#..#....",
        "....####....",
    ],

    // Layout 4: 작은 컴팩트형
    [
        "######",
        "#....#",
        "#.##.#",
        "#....#",
        "###.##",
    ],

    // Layout 5: 대형 건물
    [
        "#############",
        "#..#........#",
        "#..#........#",
        "#..#........#",
        "#...........#",
        "#......#.####",
        "#......#....#",
        "#......#....#",
        "##XX########.",
    ],

    // Layout 6: L자형 (새로운 레이아웃 예시)
    [
        "########",
        "#......#",
        "#......#",
        "#......#",
        "#......#",
        "#......#",
        "#......######",
        "#...........#",
        "######......#",
        ".....###XX###",
    ],

    // Layout 7: 중앙 정원 (상자로 둘러싸인 중앙)
    [
        "##########",
        "#........#",
        "#.XXXX...#",
        "#.X..X...#",
        "#.X..X...#",
        "#.XXXX...#",
        "#........#",
        "####..####",
    ],
];

// 문자 맵을 숫자 배열로 변환하는 함수
function parseLayout(textLayout) {
    const charMap = {
        '.': 0,  // 빈 공간
        '#': 1,  // 벽
        'X': 2,  // 상자
    };

    return textLayout.map(row => {
        return row.split('').map(char => {
            if (char in charMap) {
                return charMap[char];
            }
            console.warn(`Unknown character in layout: '${char}', treating as empty`);
            return 0;
        });
    });
}

// 기존 코드와의 호환성을 위해 숫자 배열로 변환
const buildingLayouts = buildingLayoutsText.map(parseLayout);

// ============================================
// 새로운 건물 추가 방법:
// ============================================
//
// buildingLayoutsText 배열에 새로운 레이아웃을 추가하세요:
//
// [
//     "########",
//     "#......#",
//     "#.X..X.#",
//     "#......#",
//     "###..###",
// ],
//
// 이렇게 하면 시각적으로 건물 모양을 바로 확인할 수 있습니다!
// ============================================
